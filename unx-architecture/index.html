---
layout: null
---
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UNX Agent System Architecture</title>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            background: #f8f6f2;
            color: #3d3d3d;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
        }

        .header {
            background: linear-gradient(135deg, #e8e4f0 0%, #d4e4f7 100%);
            border-bottom: 2px solid #b8a9d4;
            padding: 40px 60px;
        }
        @media (max-width: 768px) { .header { padding: 24px 20px; } }

        .header h1 { font-size: 28px; font-weight: 700; color: #2d2d3d; margin-bottom: 8px; }
        .header p { color: #6b6b80; font-size: 15px; }
        .header .badge {
            display: inline-block; padding: 3px 10px; border-radius: 4px;
            font-size: 12px; font-weight: 600; margin-top: 12px;
        }
        .header .badge-v3 { background: #b8a9d4; color: #fff; }
        .header .badge-hitl { background: #ff9800; color: #fff; margin-left: 6px; }

        .container { max-width: 1400px; margin: 0 auto; padding: 40px 60px; }
        @media (max-width: 768px) { .container { padding: 24px 16px; } }

        .section { margin-bottom: 60px; }

        .section h2 {
            font-size: 20px; font-weight: 600; color: #7c6aa6; margin-bottom: 8px;
            display: flex; align-items: center; gap: 10px;
        }
        .section h2::before {
            content: ''; display: block; width: 4px; height: 20px;
            background: #b8a9d4; border-radius: 2px; flex-shrink: 0;
        }
        .section .subtitle { color: #8888a0; font-size: 14px; margin-bottom: 24px; }

        /* Mermaid ë˜í¼ */
        .mermaid-wrapper {
            background: #ffffff; border: 1px solid #e0dce8; border-radius: 12px;
            padding: 20px; position: relative; overflow: hidden; transition: box-shadow 0.2s;
        }
        .mermaid-wrapper:hover { box-shadow: 0 4px 20px rgba(124, 106, 166, 0.15); }

        .diagram-controls {
            display: flex; align-items: center; justify-content: flex-end;
            gap: 6px; margin-bottom: 8px; flex-wrap: wrap;
        }
        .diagram-controls button {
            height: 36px; border-radius: 8px; border: 1px solid #e0dce8;
            background: #fff; color: #7c6aa6; font-size: 14px; font-weight: 500;
            cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all 0.15s; box-shadow: 0 1px 3px rgba(0,0,0,0.08);
            -webkit-tap-highlight-color: transparent;
        }
        .diagram-controls button:hover, .diagram-controls button:active {
            background: #f0ecf5; border-color: #b8a9d4;
        }
        .diagram-controls .zoom-btn { width: 36px; font-size: 18px; font-weight: 600; }
        .diagram-controls .zoom-label {
            display: flex; align-items: center; padding: 0 10px; height: 36px;
            font-size: 12px; color: #8888a0; background: #f8f6ff;
            border-radius: 8px; border: 1px solid #e0dce8;
        }
        .diagram-controls .fullscreen-btn {
            padding: 0 14px; gap: 6px; background: #7c6aa6; color: #fff;
            border-color: #7c6aa6; min-height: 44px;
        }
        .diagram-controls .fullscreen-btn:hover, .diagram-controls .fullscreen-btn:active { background: #6b5a94; }

        .mermaid-viewport {
            overflow: auto; padding: 20px; min-height: 200px; -webkit-overflow-scrolling: touch;
        }
        .mermaid-viewport .mermaid-inner {
            transform-origin: top left; transition: transform 0.15s ease; display: inline-block;
        }
        .mermaid { display: flex; justify-content: center; }

        /* ì „ì²´í™”ë©´ ì˜¤ë²„ë ˆì´ */
        .fullscreen-overlay {
            display: none; position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background: rgba(248, 246, 242, 0.98); z-index: 9999; flex-direction: column;
        }
        .fullscreen-overlay.active { display: flex; }
        .fullscreen-toolbar {
            display: flex; align-items: center; justify-content: space-between;
            padding: 10px 16px; background: #fff; border-bottom: 1px solid #e0dce8; flex-shrink: 0; gap: 8px;
        }
        .fullscreen-toolbar .title { font-size: 15px; font-weight: 600; color: #7c6aa6; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .fullscreen-toolbar .toolbar-controls { display: flex; align-items: center; gap: 6px; flex-shrink: 0; }
        .fullscreen-toolbar button {
            height: 40px; border-radius: 8px; border: 1px solid #e0dce8; background: #fff; color: #7c6aa6;
            font-size: 14px; font-weight: 500; cursor: pointer; display: flex; align-items: center; justify-content: center;
            transition: all 0.15s; box-shadow: 0 1px 3px rgba(0,0,0,0.06); -webkit-tap-highlight-color: transparent;
        }
        .fullscreen-toolbar button:active { background: #f0ecf5; transform: scale(0.95); }
        .fullscreen-toolbar button.fs-zoom-btn { width: 40px; font-size: 18px; font-weight: 600; min-width: 44px; min-height: 44px; }
        .fullscreen-toolbar .fs-zoom-label {
            display: flex; align-items: center; padding: 0 10px; height: 40px;
            font-size: 12px; color: #8888a0; background: #f8f6ff; border-radius: 8px; border: 1px solid #e0dce8;
        }
        .fullscreen-toolbar .exit-btn {
            padding: 0 16px; gap: 6px; background: #e94560; color: #fff; border-color: #e94560;
            font-weight: 600; min-width: 44px; min-height: 44px;
        }
        .fullscreen-toolbar .exit-btn:active { background: #d63a54; transform: scale(0.95); }
        @media (max-width: 768px) {
            .fullscreen-toolbar .fs-zoom-btn, .fullscreen-toolbar .fs-zoom-label { display: none; }
        }
        .fullscreen-viewport { flex: 1; overflow: auto; padding: 40px; -webkit-overflow-scrolling: touch; }
        .fullscreen-viewport .fs-inner { transform-origin: top left; transition: transform 0.15s ease; display: inline-block; }

        .esc-hint {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(61,61,61,0.8); color: #fff; padding: 6px 16px; border-radius: 6px;
            font-size: 12px; z-index: 10000; pointer-events: none; opacity: 0;
        }
        @media (max-width: 768px) { .esc-hint { display: none; } }
        .fullscreen-overlay.active .esc-hint { animation: fadeHint 3s forwards; }
        @keyframes fadeHint { 0% { opacity: 1; } 70% { opacity: 1; } 100% { opacity: 0; } }

        .pinch-hint {
            display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            background: rgba(61,61,61,0.8); color: #fff; padding: 8px 20px; border-radius: 8px;
            font-size: 13px; z-index: 10000; pointer-events: none;
        }
        @media (max-width: 768px) {
            .fullscreen-overlay.active .pinch-hint { display: block; animation: fadeHint 4s forwards; }
        }

        /* Agent ì¹´ë“œ */
        .agent-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 16px; margin-bottom: 32px; }
        .agent-card {
            background: #ffffff; border: 1px solid #e0dce8; border-radius: 10px; padding: 20px;
            transition: all 0.2s; box-shadow: 0 1px 4px rgba(0,0,0,0.04);
        }
        .agent-card:hover { border-color: #b8a9d4; box-shadow: 0 4px 12px rgba(184,169,212,0.2); transform: translateY(-2px); }
        .agent-card .icon { font-size: 28px; margin-bottom: 10px; }
        .agent-card h3 { font-size: 16px; font-weight: 600; color: #2d2d3d; margin-bottom: 6px; }
        .agent-card p { font-size: 13px; color: #6b6b80; }
        .agent-card .modes { margin-top: 12px; display: flex; flex-wrap: wrap; gap: 6px; }
        .agent-card .mode-tag { font-size: 11px; padding: 2px 8px; border-radius: 3px; background: #f0ecf5; color: #7c6aa6; border: 1px solid #e0dce8; }
        .agent-card .mode-tag.hitl { background: #fff3e0; color: #e65100; border: 1px solid #ffcc80; }

        /* HITL í¬ì¸íŠ¸ ì¹´ë“œ */
        .hitl-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .hitl-card {
            background: #fff; border-radius: 12px; padding: 24px;
            border-left: 4px solid #ff9800; box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .hitl-card h3 { font-size: 16px; font-weight: 600; color: #e65100; margin-bottom: 4px; display: flex; align-items: center; gap: 8px; }
        .hitl-card .hitl-id { font-size: 11px; background: #ff9800; color: #fff; padding: 2px 8px; border-radius: 10px; font-weight: 600; }
        .hitl-card .hitl-subtitle { font-size: 13px; color: #8888a0; margin-bottom: 14px; }
        .hitl-card .hitl-what { font-size: 13px; color: #3d3d3d; margin-bottom: 12px; line-height: 1.7; }
        .hitl-card .hitl-actions { display: flex; flex-wrap: wrap; gap: 6px; }
        .hitl-card .action-tag { font-size: 11px; padding: 3px 10px; border-radius: 4px; background: #fff3e0; color: #e65100; border: 1px solid #ffcc80; }

        /* ë°ì´í„° íë¦„ í…Œì´ë¸” */
        .table-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; }
        .flow-table {
            width: 100%; border-collapse: collapse; font-size: 14px;
            background: #fff; border-radius: 8px; overflow: hidden;
            box-shadow: 0 1px 4px rgba(0,0,0,0.04); min-width: 500px;
        }
        .flow-table th { background: #f0ecf5; color: #7c6aa6; padding: 12px 16px; text-align: left; font-weight: 600; border-bottom: 2px solid #e0dce8; }
        .flow-table td { padding: 10px 16px; border-bottom: 1px solid #f0ecf5; color: #4d4d5d; }
        .flow-table tr:hover td { background: #faf8ff; }
        .flow-table code { background: #f0ecf5; color: #7c6aa6; padding: 2px 6px; border-radius: 3px; font-size: 12px; }
        .flow-table .hitl-row td { background: #fffbf0; }
        .flow-table .hitl-badge { display: inline-block; font-size: 10px; background: #ff9800; color: #fff; padding: 1px 6px; border-radius: 3px; font-weight: 600; margin-left: 4px; }

        .phase-label { display: inline-block; padding: 4px 12px; border-radius: 4px; font-size: 12px; font-weight: 600; margin-bottom: 16px; }
        .phase-pre { background: #dbe9f7; color: #4a7fb5; border: 1px solid #b8d4f0; }
        .phase-live { background: #f7dbe1; color: #c25670; border: 1px solid #f0b8c4; }
        .phase-post { background: #e8ddf7; color: #8b6aaf; border: 1px solid #d4c0e8; }
        .phase-always { background: #dbf0e0; color: #5a9e6a; border: 1px solid #b8e0c0; }
        .phase-hitl { background: #fff3e0; color: #e65100; border: 1px solid #ffcc80; }
    </style>
</head>
<body>

<!-- ì „ì²´í™”ë©´ ì˜¤ë²„ë ˆì´ -->
<div class="fullscreen-overlay" id="fullscreenOverlay">
    <div class="fullscreen-toolbar">
        <div class="title" id="fsTitle"></div>
        <div class="toolbar-controls">
            <button class="fs-zoom-btn" ontouchend="fsZoom(-0.15); event.preventDefault();" onclick="fsZoom(-0.15)">âˆ’</button>
            <div class="fs-zoom-label" id="fsZoomLabel">Fit</div>
            <button class="fs-zoom-btn" ontouchend="fsZoom(0.15); event.preventDefault();" onclick="fsZoom(0.15)">+</button>
            <button class="fs-zoom-btn" ontouchend="fsZoom(0, true); event.preventDefault();" onclick="fsZoom(0, true)">â†º</button>
            <button class="exit-btn" id="exitBtn">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                ë‚˜ê°€ê¸°
            </button>
        </div>
    </div>
    <div class="fullscreen-viewport" id="fsViewport">
        <div class="fs-inner" id="fsInner"></div>
    </div>
    <div class="esc-hint">ESCë¥¼ ëˆŒëŸ¬ ë‚˜ê°€ê¸°</div>
    <div class="pinch-hint">ì†ê°€ë½ìœ¼ë¡œ í™•ëŒ€/ì¶•ì†Œ Â· ë“œë˜ê·¸ë¡œ ì´ë™</div>
</div>

<div class="header">
    <h1>UNX Agent System Architecture</h1>
    <p>AI-Powered Live Streaming Agent System â€” ìºë¦­í„° ì„±ê³µ ê³µì‹ì„ ì¶•ì í•˜ëŠ” ë“€ì–¼ ë£¨í”„ êµ¬ì¡°</p>
    <span class="badge badge-v3">v3 â€” HITL íë ˆì´ì…˜</span>
    <span class="badge badge-hitl">Human-in-the-Loop</span>
</div>

<div class="container">

    <!-- ì—ì´ì „íŠ¸ ì¹´ë“œ -->
    <div class="section">
        <h2>ì—ì´ì „íŠ¸ êµ¬ì„±</h2>
        <p class="subtitle">5ê°œ AI ì—ì´ì „íŠ¸ + ì¸ê°„ íë ˆì´í„°(íŒ€ì›). ğŸŸ  í‘œì‹œëŠ” ì¸ê°„ ê°œì… í¬ì¸íŠ¸.</p>
        <div class="agent-grid">
            <div class="agent-card">
                <div class="icon">ğŸ™ï¸</div>
                <h3>Live Agent</h3>
                <p>ë°©ì†¡ ì‹¤í–‰ê³¼ ì‹¤ì‹œê°„ íŒë‹¨. Superon ì–´ë“œë¯¼ì—ì„œ ì¸ê°„ì´ ìºë¦­í„° ë“±ë¡, ëª¨ë“œ ì „í™˜, ë°©ì†¡ ì—°ê²°ì„ ì œì–´.</p>
                <div class="modes">
                    <span class="mode-tag">prepare</span>
                    <span class="mode-tag">on_event</span>
                    <span class="mode-tag">review</span>
                    <span class="mode-tag hitl">ğŸŸ  Superon ì–´ë“œë¯¼</span>
                </div>
            </div>
            <div class="agent-card">
                <div class="icon">ğŸ”</div>
                <h3>Scout Agent</h3>
                <p>ì„œë¸Œì»¬ì²˜ íŠ¸ë Œë“œÂ·ì†Œì¬ íƒìƒ‰. ìë™ í¬ë¡¤ë§ìœ¼ë¡œ ì›ì¬ë£Œë¥¼ ìˆ˜ê¸‰í•˜ê³ , ì¸ê°„ì´ ë°©í–¥ì„ ë³´ì •.</p>
                <div class="modes">
                    <span class="mode-tag">auto crawl</span>
                    <span class="mode-tag">manual trigger</span>
                    <span class="mode-tag">evaluate</span>
                    <span class="mode-tag hitl">ğŸŸ  HITL ë¦¬ë·°</span>
                </div>
            </div>
            <div class="agent-card">
                <div class="icon">ğŸ“–</div>
                <h3>Persona Agent</h3>
                <p>ìºë¦­í„° ì„¸ê³„ê´€Â·í˜ë¥´ì†Œë‚˜ ê´€ë¦¬. Scout ì†Œì¬ë¥¼ ìºë¦­í„°ì— ë§ê²Œ ê°€ê³µí•˜ê³  ì í•©ë„ í‰ê°€.</p>
                <div class="modes">
                    <span class="mode-tag">adapt content</span>
                    <span class="mode-tag">evaluate</span>
                </div>
            </div>
            <div class="agent-card">
                <div class="icon">ğŸ¤</div>
                <h3>Bond Agent</h3>
                <p>íŒ¬ ê´€ê³„Â·ì»¤ë®¤ë‹ˆí‹° ê´€ë¦¬. ì´íƒˆ ê°ì§€, DM ì¶”ì²œ, ì„¸ê·¸ë¨¼íŠ¸ ë¶„ë¥˜. ì¸ê°„ì´ ê´€ê³„ íŒë‹¨ì„ ë³´ì •.</p>
                <div class="modes">
                    <span class="mode-tag">fan management</span>
                    <span class="mode-tag">evaluate</span>
                    <span class="mode-tag hitl">ğŸŸ  HITL ë¦¬ë·°</span>
                </div>
            </div>
            <div class="agent-card">
                <div class="icon">ğŸ¨</div>
                <h3>Craft Agent</h3>
                <p>ì—ì…‹ ìƒì„±Â·ì œì‘. ìŠ¤í† ë¦¬ë³´ë“œ, ì´ë¯¸ì§€, ì˜ìƒ í´ë¦½. ì¸ê°„ì´ í’ˆì§ˆê³¼ ì„¸ê³„ê´€ ì í•©ì„± ìµœì¢… í™•ì¸.</p>
                <div class="modes">
                    <span class="mode-tag">pre-production</span>
                    <span class="mode-tag" style="opacity:0.5">realtime (í–¥í›„)</span>
                    <span class="mode-tag hitl">ğŸŸ  í’ˆì§ˆ ê²Œì´íŠ¸</span>
                </div>
            </div>
            <div class="agent-card" style="border-color: #ff9800; background: #fffbf0;">
                <div class="icon">ğŸ‘¤</div>
                <h3>Human Curator (íŒ€ì›)</h3>
                <p>íë ˆì´ì…˜ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ AI ì—ì´ì „íŠ¸ì˜ ì‚°ì¶œë¬¼ì„ ë¦¬ë·°í•˜ê³  ì „ëµì  ë°©í–¥ì„ ì„¤ì •. ìºë¦­í„°ì˜ ì„±ê³µ ê³µì‹ì„ ì¶•ì .</p>
                <div class="modes">
                    <span class="mode-tag hitl">íŠ¸ë Œë“œ íë ˆì´ì…˜</span>
                    <span class="mode-tag hitl">íŒ¬ ê´€ê³„ ë³´ì •</span>
                    <span class="mode-tag hitl">ì†Œì¬Â·ì—ì…‹ í’ˆì§ˆ ê²Œì´íŠ¸</span>
                    <span class="mode-tag hitl">Superon ë°©ì†¡ ì œì–´</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ë©”ì¸ ì•„í‚¤í…ì²˜ ë„í‘œ -->
    <div class="section">
        <h2>ì „ì²´ ë°ì´í„° íë¦„ + HITL</h2>
        <p class="subtitle">ğŸŸ  ì˜¤ë Œì§€ = ì¸ê°„ ê°œì… í¬ì¸íŠ¸ (íë ˆì´ì…˜ ëŒ€ì‹œë³´ë“œ ê²½ìœ )</p>
        <div class="mermaid-wrapper" data-diagram="main">
            <div class="diagram-controls">
                <button class="zoom-btn" onclick="zoomDiagram('main', -0.1)">âˆ’</button>
                <div class="zoom-label" id="main-zoom-label">100%</div>
                <button class="zoom-btn" onclick="zoomDiagram('main', 0.1)">+</button>
                <button class="zoom-btn" onclick="zoomDiagram('main', 0, true)">â†º</button>
                <button class="fullscreen-btn" onclick="openFullscreen('main', 'ì „ì²´ ë°ì´í„° íë¦„ + HITL')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></svg>
                    ì „ì²´í™”ë©´
                </button>
            </div>
            <div class="mermaid-viewport" id="main-viewport">
                <div class="mermaid-inner" id="main-inner">
                    <pre class="mermaid" id="mermaid-main">
graph TB
    subgraph ALWAYS_ON["ğŸ”„ ìƒì‹œ ë™ì‘"]
        SCOUT["ğŸ” Scout Agent<br/>ì„œë¸Œì»¬ì²˜ íŠ¸ë Œë“œÂ·ì†Œì¬ íƒìƒ‰<br/><br/>â€¢ ìë™: ì£¼ê¸°ì  íŠ¸ë Œë“œ í¬ë¡¤ë§<br/>â€¢ ìˆ˜ë™: ë°©ì†¡ ì¶”ì²œ ì†Œì¬ ìƒì„±"]
        BOND["ğŸ¤ Bond Agent<br/>íŒ¬ ê´€ê³„Â·ì»¤ë®¤ë‹ˆí‹°<br/><br/>â€¢ ì´íƒˆ ìœ„í—˜ íŒ¬ DM ì¶”ì²œ<br/>â€¢ ì„¸ê·¸ë¨¼íŠ¸ ìë™ ì¬ë¶„ë¥˜<br/>â€¢ íŒ¬ ê´€ê³„ íˆìŠ¤í† ë¦¬ ê´€ë¦¬"]
    end

    subgraph HITL_LAYER["ğŸŸ  íë ˆì´ì…˜ ëŒ€ì‹œë³´ë“œ â€” Human-in-the-Loop"]
        HUMAN["ğŸ‘¤ Human Curator<br/>íŒ€ì›<br/><br/>â€¢ ì „ëµì  íŒë‹¨Â·ë°©í–¥ ì„¤ì •<br/>â€¢ AI ì‚°ì¶œë¬¼ ë¦¬ë·°Â·ë³´ì •<br/>â€¢ ìºë¦­í„° ì„±ê³µ ê³µì‹ ì¶•ì "]
        TREND_REVIEW["ğŸ“‹ íŠ¸ë Œë“œ íë ˆì´ì…˜<br/><br/>â€¢ Scout í¬ë¡¤ë§ ê²°ê³¼ ë¦¬ë·°<br/>â€¢ ìŠ¹ì¸ / ê±°ì ˆ / ì–´ë…¸í…Œì´ì…˜<br/>â€¢ íƒìƒ‰ ë°©í–¥ ì§€ì‹œ"]
        FAN_REVIEW["ğŸ‘¥ íŒ¬ ì¸ì‚¬ì´íŠ¸ ë¦¬ë·°<br/><br/>â€¢ íŒ¬ ì„¸ê·¸ë¨¼íŠ¸ ê²€ì¦<br/>â€¢ ê´€ê³„ íŒë‹¨ ë³´ì •<br/>â€¢ ì˜¤ë¶„ë¥˜ ìˆ˜ì •"]
        QUALITY_GATE["âœ… ì†Œì¬Â·ì—ì…‹ í’ˆì§ˆ ê²Œì´íŠ¸<br/><br/>â€¢ ì†Œì¬ í ìµœì¢… í™•ì¸<br/>â€¢ ì—ì…‹ í€„ë¦¬í‹° ì²´í¬<br/>â€¢ ì„¸ê³„ê´€ ì í•©ì„± íŒë‹¨"]
        SUPERON["ğŸ–¥ï¸ Superon ì–´ë“œë¯¼<br/>ì „ì²´ HITL í—ˆë¸Œ<br/><br/>â€¢ ìºë¦­í„° ê´€ë¦¬Â·ì„¸ê³„ê´€ í”„ë¡¬í”„íŠ¸<br/>â€¢ ë°©ì†¡ ì œì–´Â·ëª¨ë“œ ì „í™˜<br/>â€¢ ë°©ì†¡ ìš°ì„ ìˆœìœ„ ì„¤ì •<br/>â€¢ ë°©ì†¡ ë¦¬ë·° â†’ ì•¡ì…˜ ë¼ìš°íŒ…"]
    end

    subgraph PRE_BROADCAST["ğŸ“‹ ë°©ì†¡ ì „ Prepare"]
        PERSONA["ğŸ“– Persona Agent<br/>ìºë¦­í„° ì„¸ê³„ê´€Â·í˜ë¥´ì†Œë‚˜<br/><br/>â€¢ Scout ì†Œì¬ë¥¼ ìºë¦­í„°ì— ë§ê²Œ ê°€ê³µ<br/>â€¢ ìºë¦­í„° ì„¤ì •Â·ë§íˆ¬Â·ê¸ˆê¸°ì‚¬í•­ ê´€ë¦¬"]
        CRAFT["ğŸ¨ Craft Agent<br/>ì—ì…‹ ì‚¬ì „ ì œì‘<br/><br/>â€¢ ìŠ¤í† ë¦¬ë³´ë“œÂ·ì´ë¯¸ì§€Â·ì˜ìƒ í´ë¦½"]
        PREPARE["ğŸ™ï¸ Live Agent âŸ¨prepareâŸ©<br/><br/>â€¢ BroadcastStrategy ìˆ˜ë¦½<br/>â€¢ ì†Œì¬íÂ·íŒ¬ì›Œì¹˜ë¦¬ìŠ¤íŠ¸Â·KPI ì„¤ì •"]
    end

    subgraph LIVE["âš¡ ë°©ì†¡ ì¤‘ On-Air"]
        LIVE_BRAIN["ğŸ™ï¸ Live Agent âŸ¨on_eventâŸ©<br/>ì‹¤ì‹œê°„ íŒë‹¨ ì—”ì§„<br/><br/>â€¢ ë§¤ ì´ë²¤íŠ¸ë§ˆë‹¤ íŒë‹¨<br/>â€¢ toolsë¡œ ë°ì´í„° ì¡°íšŒ<br/>â€¢ BroadcastStrategy ê¸°ë°˜ ì˜ì‚¬ê²°ì •"]
    end

    subgraph POST_BROADCAST["ğŸ“Š ë°©ì†¡ í›„ Review &amp; Evaluate"]
        REVIEW["ğŸ™ï¸ Live Agent âŸ¨reviewâŸ©<br/><br/>â€¢ íŒ©íŠ¸ ê¸°ë°˜ ì„¸ì…˜ ì •ë¦¬<br/>â€¢ ìê¸° ì „ëµ í‰ê°€<br/>â€¢ ê° ì—ì´ì „íŠ¸ì— ì‹ í˜¸ ë°°í¬"]
        PERSONA_EVAL["ğŸ“– Persona âŸ¨evaluateâŸ©<br/><br/>â€¢ ì†Œì¬ë³„ ìºë¦­í„° ì í•©ë„ í‰ê°€<br/>â€¢ content_pool ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸<br/>â€¢ ìºë¦­í„° ê°€ì´ë“œë¼ì¸ ë¯¸ì„¸ ì¡°ì •"]
        BOND_EVAL["ğŸ¤ Bond âŸ¨evaluateâŸ©<br/><br/>â€¢ íŒ¬ ì„¸ê·¸ë¨¼íŠ¸ë³„ ë°˜ì‘ í•´ì„<br/>â€¢ fan_memory ì—…ë°ì´íŠ¸<br/>â€¢ DM ì¶”ì²œ íì‰"]
        SCOUT_EVAL["ğŸ” Scout âŸ¨evaluateâŸ©<br/><br/>â€¢ íŠ¸ë Œë“œ ì ì¤‘ë¥  í‰ê°€<br/>â€¢ íƒìƒ‰ ì „ëµ ë³´ì •<br/>â€¢ íƒìƒ‰ ìš°ì„ ìˆœìœ„ ì¬ì¡°ì •"]
    end

    CONTENT_POOL[("ğŸ“¦ Content Pool<br/>ìºë¦­í„° ë§ì¶¤ ì†Œì¬")]
    FAN_MEMORY[("ğŸ‘¥ Fan Memory<br/>íŒ¬ í”„ë¡œí•„Â·ê´€ê³„Â·íˆìŠ¤í† ë¦¬")]
    ASSET_STORE[("ğŸ—‚ï¸ Asset Store<br/>ì˜ìƒÂ·ì´ë¯¸ì§€Â·í”„ë¦¬ì…‹")]

    %% ìƒì‹œ â†’ HITL íë ˆì´ì…˜
    SCOUT -->|"raw_trends<br/>í¬ë¡¤ë§ ê²°ê³¼"| TREND_REVIEW
    TREND_REVIEW -->|"ìŠ¹ì¸ëœ ì†Œì¬ +<br/>ì–´ë…¸í…Œì´ì…˜"| PERSONA
    BOND -->|"íŒ¬ ë¶„ì„ ê²°ê³¼<br/>ì„¸ê·¸ë¨¼íŠ¸Â·ê´€ê³„ ê·¸ë˜í”„"| FAN_REVIEW
    FAN_REVIEW -->|"ë³´ì •ëœ íŒ¬ ë°ì´í„°"| FAN_MEMORY

    HUMAN --- TREND_REVIEW
    HUMAN --- FAN_REVIEW
    HUMAN --- QUALITY_GATE
    HUMAN --- SUPERON

    SUPERON -->|"ìºë¦­í„° ì„¤ì •<br/>ëª¨ë“œÂ·LLM êµ¬ì„±"| PREPARE
    SUPERON -->|"TikTok RoomID<br/>ë°©ì†¡ ì‹œì‘Â·ì¤‘ì§€"| LIVE_BRAIN

    %% Persona â†’ Content Pool â†’ í’ˆì§ˆ ê²Œì´íŠ¸
    PERSONA -->|"adapted_content<br/>ìºë¦­í„° ë§ì¶¤ ì†Œì¬"| CONTENT_POOL

    CONTENT_POOL -->|"ì†Œì¬ í<br/>ë¦¬ë·° ìš”ì²­"| QUALITY_GATE
    ASSET_STORE -->|"ì—ì…‹ ë¦¬ë·° ìš”ì²­"| QUALITY_GATE
    QUALITY_GATE -->|"ìŠ¹ì¸ëœ ì†Œì¬Â·ì—ì…‹"| PREPARE

    %% ê¸°ì¡´ ë°©ì†¡ ì „ íë¦„
    FAN_MEMORY -->|"VIP íŒ¬ ë¦¬ìŠ¤íŠ¸<br/>ì£¼ëª© íŒ¬ ì•Œë¦¼"| PREPARE
    PERSONA -->|"ìºë¦­í„° ì„¤ì • ìŠ¤ëƒ…ìƒ·<br/>ë§íˆ¬Â·ì„±ê²©Â·ê¸ˆê¸°ì‚¬í•­"| PREPARE
    PREPARE -->|"ì—ì…‹ ì œì‘ ìš”ì²­"| CRAFT
    CRAFT -->|"ì œì‘ëœ ì—ì…‹"| ASSET_STORE
    PREPARE -->|"BroadcastStrategy"| LIVE_BRAIN

    %% ë°©ì†¡ ì¤‘ tool í˜¸ì¶œ
    CONTENT_POOL -.->|"tool: fetch_content()"| LIVE_BRAIN
    FAN_MEMORY -.->|"tool: lookup_fan()"| LIVE_BRAIN
    ASSET_STORE -.->|"tool: fetch_asset()"| LIVE_BRAIN
    PERSONA -.->|"tool: check_persona()"| LIVE_BRAIN

    %% ë°©ì†¡ í›„
    LIVE_BRAIN -->|"session_log"| REVIEW
    REVIEW -->|"FanSignals"| BOND_EVAL
    REVIEW -->|"ContentSignals"| PERSONA_EVAL
    REVIEW -->|"ContentSignals"| SCOUT_EVAL
    REVIEW -->|"StrategyFeedback<br/>â†’ ë‹¤ìŒ prepare"| PREPARE
    REVIEW -->|"ì„¸ì…˜ ë¦¬í¬íŠ¸<br/>â†’ ì¸ê°„ ë¦¬ë·°"| SUPERON

    PERSONA_EVAL -->|"ì†Œì¬ ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸"| CONTENT_POOL
    PERSONA_EVAL -->|"í˜ë¥´ì†Œë‚˜ ë¯¸ì„¸ ì¡°ì •"| PERSONA
    BOND_EVAL -->|"íŒ¬ ë°ì´í„° ì—…ë°ì´íŠ¸"| FAN_MEMORY
    SCOUT_EVAL -->|"íƒìƒ‰ ìš°ì„ ìˆœìœ„ ë³´ì •"| SCOUT

    %% ìŠ¤íƒ€ì¼
    style ALWAYS_ON fill:#e8f5e9,stroke:#81c784,color:#2d3d2f
    style HITL_LAYER fill:#fff8e1,stroke:#ff9800,color:#4e342e,stroke-width:3px
    style PRE_BROADCAST fill:#e3f2fd,stroke:#64b5f6,color:#2d3d4f
    style LIVE fill:#fce4ec,stroke:#e57373,color:#3d2d2f,stroke-width:3px
    style POST_BROADCAST fill:#ede7f6,stroke:#b39ddb,color:#3d2d4f

    style SCOUT fill:#c8e6c9,stroke:#66bb6a,color:#2d3d2f
    style BOND fill:#c8e6c9,stroke:#66bb6a,color:#2d3d2f

    style HUMAN fill:#ff9800,stroke:#e65100,color:#fff,stroke-width:2px
    style TREND_REVIEW fill:#fff3e0,stroke:#ff9800,color:#4e342e
    style FAN_REVIEW fill:#fff3e0,stroke:#ff9800,color:#4e342e
    style QUALITY_GATE fill:#fff3e0,stroke:#ff9800,color:#4e342e
    style SUPERON fill:#fff3e0,stroke:#ff9800,color:#4e342e

    style PERSONA fill:#bbdefb,stroke:#42a5f5,color:#2d3d4f
    style CRAFT fill:#bbdefb,stroke:#42a5f5,color:#2d3d4f
    style PREPARE fill:#bbdefb,stroke:#42a5f5,color:#2d3d4f
    style LIVE_BRAIN fill:#ef9a9a,stroke:#e57373,color:#3d1f1f,stroke-width:2px
    style REVIEW fill:#ce93d8,stroke:#ab47bc,color:#fff
    style PERSONA_EVAL fill:#e1bee7,stroke:#ba68c8,color:#3d2d4f
    style BOND_EVAL fill:#e1bee7,stroke:#ba68c8,color:#3d2d4f
    style SCOUT_EVAL fill:#e1bee7,stroke:#ba68c8,color:#3d2d4f

    style CONTENT_POOL fill:#bbdefb,stroke:#64b5f6,color:#2d3d4f
    style FAN_MEMORY fill:#bbdefb,stroke:#64b5f6,color:#2d3d4f
    style ASSET_STORE fill:#bbdefb,stroke:#64b5f6,color:#2d3d4f
                    </pre>
                </div>
            </div>
        </div>
    </div>

    <!-- ë“€ì–¼ ë£¨í”„ ë„í‘œ -->
    <div class="section">
        <h2>ë“€ì–¼ ë£¨í”„ êµ¬ì¡°</h2>
        <p class="subtitle">ë°©ì†¡ ì„¸ì…˜ ë£¨í”„(ì „ìˆ  ìë™) + ì „ëµ íë ˆì´ì…˜ ë£¨í”„(HITL) â€” ë‘ ë£¨í”„ê°€ ë…ë¦½ì ìœ¼ë¡œ íšŒì „í•˜ë©° ìºë¦­í„° ì„±ê³µ ê³µì‹ ì¶•ì </p>
        <div class="mermaid-wrapper" data-diagram="dual">
            <div class="diagram-controls">
                <button class="zoom-btn" onclick="zoomDiagram('dual', -0.1)">âˆ’</button>
                <div class="zoom-label" id="dual-zoom-label">100%</div>
                <button class="zoom-btn" onclick="zoomDiagram('dual', 0.1)">+</button>
                <button class="zoom-btn" onclick="zoomDiagram('dual', 0, true)">â†º</button>
                <button class="fullscreen-btn" onclick="openFullscreen('dual', 'ë“€ì–¼ ë£¨í”„ êµ¬ì¡°')">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><path d="M8 3H5a2 2 0 00-2 2v3m18 0V5a2 2 0 00-2-2h-3m0 18h3a2 2 0 002-2v-3M3 16v3a2 2 0 002 2h3"/></svg>
                    ì „ì²´í™”ë©´
                </button>
            </div>
            <div class="mermaid-viewport" id="dual-viewport">
                <div class="mermaid-inner" id="dual-inner">
                    <pre class="mermaid" id="mermaid-dual">
graph TB
    subgraph LOOP1["âš¡ ë£¨í”„ 1: ë°©ì†¡ ì„¸ì…˜ ë£¨í”„ â€” ì „ìˆ  ìë™"]
        direction LR
        P1["ğŸ“‹ Prepare<br/>ì „ëµ ìˆ˜ë¦½"] --> ON1["ğŸ™ï¸ On-Air<br/>ì‹¤ì‹œê°„ ë°©ì†¡"]
        ON1 --> RV1["ğŸ“Š Review<br/>ì„¸ì…˜ í‰ê°€"]
        RV1 --> EV1["ğŸ”ğŸ“–ğŸ¤<br/>ì—ì´ì „íŠ¸ ìì²´ í‰ê°€"]
        EV1 --> DB1["ğŸ’¾ ë°ì´í„° í’€<br/>ìë™ ì—…ë°ì´íŠ¸"]
        DB1 --> P1
    end

    subgraph LOOP2["ğŸŸ  ë£¨í”„ 2: ì „ëµ íë ˆì´ì…˜ ë£¨í”„ â€” HITL (Superon í—ˆë¸Œ)"]
        direction LR
        AGENTS["ğŸ¤– ì—ì´ì „íŠ¸ ì‚°ì¶œë¬¼<br/>Scout í¬ë¡¤ë§<br/>Bond íŒ¬ ë¶„ì„<br/>ì†Œì¬Â·ì—ì…‹<br/>ë°©ì†¡ ë¦¬ë·°"]
        AGENTS --> DASH["ğŸ–¥ï¸ Superon ì–´ë“œë¯¼<br/>7ê°œ íƒ­ í†µí•© ëŒ€ì‹œë³´ë“œ<br/>íŠ¸ë Œë“œ Â· íŒ¬ Â· ì†Œì¬ Â· ë¦¬ë·°<br/>ìºë¦­í„° Â· ë°©ì†¡ Â· ìš°ì„ ìˆœìœ„"]
        DASH --> HM["ğŸ‘¤ ì¸ê°„ ë¦¬ë·°<br/>ìŠ¹ì¸Â·ê±°ì ˆÂ·ì–´ë…¸í…Œì´ì…˜<br/>ë°©í–¥ ì§€ì‹œÂ·ë³´ì •<br/>ê°€ì¹˜ íŒë‹¨Â·ë¼ìš°íŒ…"]
        HM --> GUIDE["ğŸ“ ê°€ì´ë“œë¼ì¸ ì—…ë°ì´íŠ¸<br/>ì„¸ê³„ê´€ í”„ë¡¬í”„íŠ¸ ë°˜ì˜<br/>íƒìƒ‰ ë°©í–¥Â·íŒ¬ ê´€ê³„ ë³´ì •<br/>ë°©ì†¡ ì „ëµ ìš°ì„ ìˆœìœ„"]
        GUIDE --> AGENTS
    end

    DB1 -.->|"ë°©ì†¡ ì„±ê³¼ ë°ì´í„°<br/>â†’ íë ˆì´ì…˜ ì°¸ê³ "| DASH
    GUIDE -.->|"ë³´ì •ëœ ê°€ì´ë“œë¼ì¸<br/>â†’ ë‹¤ìŒ ë°©ì†¡ ë°˜ì˜"| P1

    style LOOP1 fill:#fce4ec,stroke:#e57373,color:#3d2d2f,stroke-width:2px
    style LOOP2 fill:#fff8e1,stroke:#ff9800,color:#4e342e,stroke-width:3px

    style P1 fill:#bbdefb,stroke:#42a5f5,color:#2d3d4f
    style ON1 fill:#ef9a9a,stroke:#e57373,color:#3d1f1f
    style RV1 fill:#ce93d8,stroke:#ab47bc,color:#fff
    style EV1 fill:#e1bee7,stroke:#ba68c8,color:#3d2d4f
    style DB1 fill:#bbdefb,stroke:#64b5f6,color:#2d3d4f

    style AGENTS fill:#c8e6c9,stroke:#66bb6a,color:#2d3d2f
    style DASH fill:#fff3e0,stroke:#ff9800,color:#4e342e
    style HM fill:#ff9800,stroke:#e65100,color:#fff,stroke-width:2px
    style GUIDE fill:#fff3e0,stroke:#ff9800,color:#4e342e
                    </pre>
                </div>
            </div>
        </div>
    </div>

    <!-- HITL í¬ì¸íŠ¸ ìƒì„¸ -->
    <div class="section">
        <h2>HITL í¬ì¸íŠ¸ ìƒì„¸</h2>
        <p class="subtitle">ì¸ê°„ì´ ì—ì´ì „íŠ¸ì™€ í˜‘ì—…ìœ¼ë¡œ ì˜ì‚¬íŒë‹¨ì„ í•˜ëŠ” 4ê°œ ì§€ì . ê°ê° ì›¹ ëŒ€ì‹œë³´ë“œì— ë§¤í•‘ë¨.</p>
        <div class="hitl-grid">
            <div class="hitl-card">
                <h3><span class="hitl-id">HITL-1</span> íŠ¸ë Œë“œ íë ˆì´ì…˜</h3>
                <div class="hitl-subtitle">Scout Agent â†’ ğŸ‘¤ Human â†’ Persona Agent</div>
                <div class="hitl-what">
                    Scoutê°€ í¬ë¡¤ë§í•œ ì„œë¸Œì»¬ì²˜ íŠ¸ë Œë“œ ì›ì¬ë£Œ(ë°ˆ, ë‰´ìŠ¤, í† í”½, ì»¤ë®¤ë‹ˆí‹° ë°˜ì‘)ë¥¼ ì¸ê°„ì´ ë¦¬ë·°. ë‹¨ìˆœ ìŠ¹ì¸/ê±°ì ˆì´ ì•„ë‹ˆë¼ <strong>ë§¥ë½ ì–´ë…¸í…Œì´ì…˜</strong>ì„ ì¶”ê°€ â€” "ì´ ë°ˆì€ ìºë¦­í„° Aì˜ ì¸¤ë°ë ˆ ì„¤ì •ê³¼ ì—°ê²°", "ì´ í† í”½ì€ ë‹¤ìŒ ì£¼ ë°©ì†¡ ì˜¤í”„ë‹ì— í™œìš©" ë“±. ì´ ì–´ë…¸í…Œì´ì…˜ì´ Persona Agentì˜ ì†Œì¬ ê°€ê³µ í’ˆì§ˆì„ ê²°ì •ì ìœ¼ë¡œ ë†’ì„. ë˜í•œ Scoutì˜ í¬ë¡¤ë§ ë°©í–¥ ìì²´ë¥¼ ë³´ì • â€” ì–´ë–¤ ì»¤ë®¤ë‹ˆí‹°, ì–´ë–¤ í‚¤ì›Œë“œë¥¼ ë” ì£¼ì‹œí• ì§€ ì „ëµì ìœ¼ë¡œ ì§€ì‹œ.
                </div>
                <div class="hitl-actions">
                    <span class="action-tag">ìŠ¹ì¸ / ê±°ì ˆ / ë³´ë¥˜</span>
                    <span class="action-tag">ë§¥ë½ ì–´ë…¸í…Œì´ì…˜</span>
                    <span class="action-tag">í¬ë¡¤ë§ ë°©í–¥ ì§€ì‹œ</span>
                    <span class="action-tag">ìš°ì„ ìˆœìœ„ íƒœê¹…</span>
                </div>
            </div>
            <div class="hitl-card">
                <h3><span class="hitl-id">HITL-2</span> íŒ¬ ì¸ì‚¬ì´íŠ¸ ë¦¬ë·°</h3>
                <div class="hitl-subtitle">Bond Agent â†’ ğŸ‘¤ Human â†’ Fan Memory</div>
                <div class="hitl-what">
                    Bondê°€ ìë™ ë¶„ì„í•œ íŒ¬ ì„¸ê·¸ë¨¼íŠ¸, ê´€ê³„ ê·¸ë˜í”„, ì´íƒˆ ì˜ˆì¸¡, VIP ì‹ë³„ì„ ì¸ê°„ì´ ê²€ì¦. AIê°€ "VIP"ë¡œ íŒë‹¨í–ˆëŠ”ë° ì‹¤ì œë¡œëŠ” ì–´ê·¸ë¡œì¸ ê²½ìš°, ë°˜ëŒ€ë¡œ ì¡°ìš©í•˜ì§€ë§Œ í•µì‹¬ íŒ¬ì„ ë†“ì¹˜ëŠ” ê²½ìš°ë¥¼ <strong>ì¸ê°„ì˜ ë§¥ë½ íŒë‹¨ìœ¼ë¡œ ë³´ì •</strong>. ì°íŒ¬ì˜ ì—°ê²° êµ¬ì¡°ë¥¼ ì œëŒ€ë¡œ ì´í•´í•˜ë ¤ë©´ AI ë¶„ì„ë§Œìœ¼ë¡œëŠ” ë¶€ì¡±í•œ ë‰˜ì•™ìŠ¤ê°€ ìˆìŒ â€” DM í†¤, ë°©ì†¡ ì¤‘ í–‰ë™ íŒ¨í„´, ì»¤ë®¤ë‹ˆí‹° ì˜í–¥ë ¥ ë“±. ë³´ì • í”¼ë“œë°±ì´ Bondì˜ ë‹¤ìŒ ë¶„ì„ì— ë°˜ì˜ë¨.
                </div>
                <div class="hitl-actions">
                    <span class="action-tag">ì„¸ê·¸ë¨¼íŠ¸ ë³´ì •</span>
                    <span class="action-tag">VIP ì¬ë¶„ë¥˜</span>
                    <span class="action-tag">ê´€ê³„ íŒë‹¨ ì˜¤ë²„ë¼ì´ë“œ</span>
                    <span class="action-tag">DM ì¶”ì²œ ìŠ¹ì¸</span>
                </div>
            </div>
            <div class="hitl-card">
                <h3><span class="hitl-id">HITL-3</span> ì†Œì¬Â·ì—ì…‹ í’ˆì§ˆ ê²Œì´íŠ¸</h3>
                <div class="hitl-subtitle">Content Pool + Asset Store â†’ ğŸ‘¤ Human â†’ Prepare</div>
                <div class="hitl-what">
                    Personaê°€ ê°€ê³µí•œ ì†Œì¬ì™€ Craftê°€ ì œì‘í•œ ì—ì…‹ì´ ë°©ì†¡ íì— ë“¤ì–´ê°€ê¸° ì „ <strong>ì¸ê°„ì´ ìµœì¢… í™•ì¸</strong>. ìºë¦­í„° ì„¸ê³„ê´€ê³¼ì˜ ì •í•©ì„±, í€„ë¦¬í‹° ê¸°ì¤€, íƒ€ì´ë° ì ì ˆì„±ì„ ì¢…í•© íŒë‹¨. ì´ ê²Œì´íŠ¸ê°€ ê°€ì¥ ì„íŒ©íŠ¸ê°€ í° HITL â€” ë°©ì†¡ì— ì‹¤ì œë¡œ ë¬´ì—‡ì„ ì“¸ì§€ë¥¼ ê²°ì •. ê±°ì ˆëœ ì†Œì¬ì— ëŒ€í•œ í”¼ë“œë°±("ì™œ ì•ˆ ë˜ëŠ”ì§€")ì´ Personaì™€ Craftì˜ ê°€ì´ë“œë¼ì¸ ë³´ì •ì— í™œìš©ë¨.
                </div>
                <div class="hitl-actions">
                    <span class="action-tag">ì†Œì¬ í í¸ì§‘</span>
                    <span class="action-tag">ì—ì…‹ í’ˆì§ˆ ì²´í¬</span>
                    <span class="action-tag">ì„¸ê³„ê´€ ì í•©ì„± íŒë‹¨</span>
                    <span class="action-tag">ê±°ì ˆ í”¼ë“œë°±</span>
                </div>
            </div>
            <div class="hitl-card" style="grid-column: 1 / -1;">
                <h3><span class="hitl-id">HITL-4</span> Superon ì–´ë“œë¯¼ â€” ì „ì²´ HITL í—ˆë¸Œ</h3>
                <div class="hitl-subtitle">ğŸ‘¤ Human â†” ì „ ì—ì´ì „íŠ¸ â€” ì´ë¯¸ êµ¬ì¶•ëœ ì‹œìŠ¤í…œì„ ì¤‘ì‹¬ìœ¼ë¡œ HITL-1~3ì„ íƒ­ìœ¼ë¡œ í†µí•©</div>
                <div class="hitl-what">
                    ê¸°ì¡´ì— êµ¬ì¶•ëœ Superon ì–´ë“œë¯¼ì„ <strong>ì „ì²´ HITL í†µí•© í—ˆë¸Œ</strong>ë¡œ ê³ ë„í™”. 7ê°œ íƒ­ êµ¬ì¡°ë¡œ ëª¨ë“  ì¸ê°„ ê°œì… í¬ì¸íŠ¸ë¥¼ í•˜ë‚˜ì˜ ì›¹ ëŒ€ì‹œë³´ë“œì—ì„œ ê´€ë¦¬.
                </div>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 14px;">
                    <div style="background:#fff8e1; border:1px solid #ffcc80; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#e65100; margin-bottom:4px;">ğŸ­ ìºë¦­í„° ê´€ë¦¬</div>
                        <div style="font-size:12px; color:#6b6b80;">í”„ë¡¬í”„íŠ¸ ë“±ë¡Â·í¸ì§‘, ë¦¬ë·°ì—ì„œ ì˜¬ë¼ì˜¨ ì„¸ê³„ê´€ ì—…ë°ì´íŠ¸ ì œì•ˆ í™•ì¸Â·ìŠ¹ì¸, ì˜ìƒ í´ë¦½ ê´€ë¦¬</div>
                    </div>
                    <div style="background:#fff8e1; border:1px solid #ffcc80; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#e65100; margin-bottom:4px;">ğŸ“¡ ë°©ì†¡ ì œì–´</div>
                        <div style="font-size:12px; color:#6b6b80;">TikTok RoomID ì—°ë™, í¬ë¦¬ì—ì´í„°/ì—ì´ì „íŠ¸ ëª¨ë“œ ì „í™˜, LLMÂ·TTS í…ŒìŠ¤íŠ¸</div>
                    </div>
                    <div style="background:#fff8e1; border:1px solid #ffcc80; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#e65100; margin-bottom:4px;">âš–ï¸ ë°©ì†¡ ìš°ì„ ìˆœìœ„</div>
                        <div style="font-size:12px; color:#6b6b80;">ì„¸ì…˜ë³„ ì „ëµ ê°€ì¤‘ì¹˜ ì„¤ì • â€” íŒ¬ ì¼€ì–´ vs ì‹ ê·œ ìœ ì… vs ì†Œì¬ ì†Œí™”. ì—ì´ì „íŠ¸ ê°„ ì¶©ëŒ ë°©ì§€</div>
                    </div>
                    <div style="background:#fce4ec; border:1px solid #f0b8c4; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#c25670; margin-bottom:4px;">ğŸ“Š ë°©ì†¡ ë¦¬ë·° <span style="font-size:10px; background:#e57373; color:#fff; padding:1px 6px; border-radius:3px;">ë¼ìš°í„°</span></div>
                        <div style="font-size:12px; color:#6b6b80;">ì„¸ì…˜ ë¦¬í¬íŠ¸ í™•ì¸ â†’ ê°€ì¹˜ íŒë‹¨ â†’ ë‹¤ë¥¸ íƒ­ìœ¼ë¡œ ì•¡ì…˜ ë¼ìš°íŒ…. "ì´ê±´ ë°˜ì˜í•˜ì" íŒë‹¨ì˜ íŠ¸ë¦¬ê±° í¬ì¸íŠ¸</div>
                    </div>
                    <div style="background:#e8f5e9; border:1px solid #b8e0c0; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#2e7d32; margin-bottom:4px;">ğŸ” íŠ¸ë Œë“œ í”¼ë“œ <span style="font-size:10px; background:#ff9800; color:#fff; padding:1px 6px; border-radius:3px;">HITL-1</span></div>
                        <div style="font-size:12px; color:#6b6b80;">Scout í¬ë¡¤ë§ ê²°ê³¼ ë¦¬ë·°Â·ì–´ë…¸í…Œì´ì…˜, í¬ë¡¤ë§ ë°©í–¥ ì§€ì‹œ</div>
                    </div>
                    <div style="background:#e8f5e9; border:1px solid #b8e0c0; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#2e7d32; margin-bottom:4px;">ğŸ‘¥ íŒ¬ ì¸ì‚¬ì´íŠ¸ <span style="font-size:10px; background:#ff9800; color:#fff; padding:1px 6px; border-radius:3px;">HITL-2</span></div>
                        <div style="font-size:12px; color:#6b6b80;">Bond ë¶„ì„ ê²€ì¦Â·ë³´ì •, ì„¸ê·¸ë¨¼íŠ¸ ì¬ë¶„ë¥˜, VIP íŒë‹¨ ì˜¤ë²„ë¼ì´ë“œ</div>
                    </div>
                    <div style="background:#e8f5e9; border:1px solid #b8e0c0; border-radius:8px; padding:12px;">
                        <div style="font-weight:600; font-size:13px; color:#2e7d32; margin-bottom:4px;">âœ… ì†Œì¬Â·ì—ì…‹ í <span style="font-size:10px; background:#ff9800; color:#fff; padding:1px 6px; border-radius:3px;">HITL-3</span></div>
                        <div style="font-size:12px; color:#6b6b80;">Content Pool + Asset Store í’ˆì§ˆ ê²Œì´íŠ¸, ë°©ì†¡ í ìµœì¢… í¸ì§‘</div>
                    </div>
                </div>
                <div style="margin-top:14px; padding:12px; background:#f5f0ff; border-radius:8px; border:1px solid #e0dce8;">
                    <div style="font-size:12px; color:#7c6aa6; line-height:1.7;">
                        <strong>ë°©ì†¡ ë¦¬ë·° íƒ­ì˜ ì•¡ì…˜ ë¼ìš°íŒ…:</strong> ë¦¬ë·° ë°ì´í„°ì—ì„œ "ì´ ì†Œì¬ ë°˜ì‘ì´ ì¢‹ì•˜ë‹¤" â†’ <em>ìºë¦­í„° ê´€ë¦¬</em>(ì„¸ê³„ê´€ í”„ë¡¬í”„íŠ¸ ë°˜ì˜) | <em>íŠ¸ë Œë“œ í”¼ë“œ</em>(Scout íƒìƒ‰ ë°©í–¥ ë³´ì •) | <em>ë°©ì†¡ ìš°ì„ ìˆœìœ„</em>(ë‹¤ìŒ ì„¸ì…˜ ê°€ì¤‘ì¹˜ ì¡°ì •) | <em>í™•ì¸ë§Œ</em>(ìë™ ì²˜ë¦¬ì— ìœ„ì„)
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ë°ì´í„° íë¦„ ìƒì„¸ -->
    <div class="section">
        <h2>ë°ì´í„° íë¦„ ìƒì„¸</h2>

        <span class="phase-label phase-always">ğŸ”„ ìƒì‹œ ë™ì‘</span>
        <div class="table-scroll">
        <table class="flow-table">
            <thead><tr><th>From</th><th>To</th><th>ë°ì´í„°</th><th>ì„¤ëª…</th></tr></thead>
            <tbody>
                <tr><td>Scout</td><td>Persona</td><td><code>raw_trends</code></td><td>íŠ¸ë Œë“œ ì›ì¬ë£Œ (ë°ˆ, ë‰´ìŠ¤, í† í”½)</td></tr>
                <tr><td>Persona</td><td>Content Pool</td><td><code>adapted_content</code></td><td>ìºë¦­í„°ì— ë§ê²Œ ê°€ê³µëœ ì†Œì¬</td></tr>
                <tr><td>Bond</td><td>Fan Memory</td><td>íŒ¬ ê´€ê³„ ê´€ë¦¬ ì•¡ì…˜</td><td>ì´íƒˆ ìœ„í—˜ DM ì¶”ì²œ, ì„¸ê·¸ë¨¼íŠ¸ ì¬ë¶„ë¥˜</td></tr>
            </tbody>
        </table>
        </div>

        <br/>
        <span class="phase-label phase-hitl">ğŸŸ  HITL íë ˆì´ì…˜ (ìƒì‹œ / ë¹„ë™ê¸°)</span>
        <div class="table-scroll">
        <table class="flow-table">
            <thead><tr><th>From</th><th>To</th><th>ë°ì´í„°</th><th>ì¸ê°„ ì•¡ì…˜</th></tr></thead>
            <tbody>
                <tr class="hitl-row"><td>Scout<span class="hitl-badge">HITL-1</span></td><td>ğŸ‘¤ â†’ Persona</td><td>ìŠ¹ì¸ëœ <code>raw_trends</code> + ì–´ë…¸í…Œì´ì…˜</td><td>ìŠ¹ì¸/ê±°ì ˆ, ë§¥ë½ ë©”ëª¨, í¬ë¡¤ë§ ë°©í–¥ ì§€ì‹œ</td></tr>
                <tr class="hitl-row"><td>Bond<span class="hitl-badge">HITL-2</span></td><td>ğŸ‘¤ â†’ Fan Memory</td><td>ë³´ì •ëœ íŒ¬ ì„¸ê·¸ë¨¼íŠ¸Â·ê´€ê³„ ë°ì´í„°</td><td>ì„¸ê·¸ë¨¼íŠ¸ ë³´ì •, VIP ì¬ë¶„ë¥˜, ê´€ê³„ ì˜¤ë²„ë¼ì´ë“œ</td></tr>
                <tr class="hitl-row"><td>Content Pool + Asset Store<span class="hitl-badge">HITL-3</span></td><td>ğŸ‘¤ â†’ Prepare</td><td>ìŠ¹ì¸ëœ ì†Œì¬ í + ì—ì…‹</td><td>ì†Œì¬ í í¸ì§‘, ì—ì…‹ í’ˆì§ˆ ì²´í¬, ê±°ì ˆ í”¼ë“œë°±</td></tr>
                <tr class="hitl-row"><td>ğŸ‘¤ Superon ì–´ë“œë¯¼<span class="hitl-badge">HITL-4</span></td><td>ğŸ‘¤ â†” Live Agent</td><td>ìºë¦­í„° ì„¤ì •, ëª¨ë“œ ì „í™˜, RoomID</td><td>ìºë¦­í„° ë“±ë¡, í¬ë¦¬ì—ì´í„°/ì—ì´ì „íŠ¸ ëª¨ë“œ, LLMÂ·TTS í…ŒìŠ¤íŠ¸</td></tr>
            </tbody>
        </table>
        </div>

        <br/>
        <span class="phase-label phase-pre">ğŸ“‹ ë°©ì†¡ ì „ (Prepare)</span>
        <div class="table-scroll">
        <table class="flow-table">
            <thead><tr><th>From</th><th>To</th><th>ë°ì´í„°</th><th>ì„¤ëª…</th></tr></thead>
            <tbody>
                <tr class="hitl-row"><td>ğŸ‘¤ í’ˆì§ˆ ê²Œì´íŠ¸</td><td>Live [prepare]</td><td>ìŠ¹ì¸ëœ ì†Œì¬ í + ì—ì…‹</td><td>ì¸ê°„ì´ í™•ì¸í•œ ìµœì¢… ë°©ì†¡ ì†Œì¬</td></tr>
                <tr><td>Fan Memory</td><td>Live [prepare]</td><td>VIP íŒ¬ ë¦¬ìŠ¤íŠ¸ + ì•Œë¦¼</td><td>ì£¼ëª©í•  íŒ¬, ìµœê·¼ í–‰ë™ ìš”ì•½</td></tr>
                <tr><td>Persona</td><td>Live [prepare]</td><td>ìºë¦­í„° ì„¤ì • ìŠ¤ëƒ…ìƒ·</td><td>ë§íˆ¬, ì„±ê²©, ê¸ˆê¸°ì‚¬í•­</td></tr>
                <tr><td>Live [prepare]</td><td>Craft</td><td>ì—ì…‹ ì œì‘ ìš”ì²­</td><td>ìŠ¤í† ë¦¬ë³´ë“œ, í•„ìš” ì´ë¯¸ì§€ ëª©ë¡</td></tr>
                <tr><td>Craft</td><td>Asset Store</td><td>ì œì‘ëœ ì—ì…‹</td><td>ì˜ìƒ í´ë¦½, ì´ë¯¸ì§€, í”„ë¦¬ì…‹</td></tr>
                <tr><td>Live [prepare]</td><td>Live [on_event]</td><td><code>BroadcastStrategy</code></td><td>ì „ëµ, ì†Œì¬í, íŒ¬ì›Œì¹˜ë¦¬ìŠ¤íŠ¸, KPI</td></tr>
            </tbody>
        </table>
        </div>

        <br/>
        <span class="phase-label phase-live">âš¡ ë°©ì†¡ ì¤‘ (On-Air)</span>
        <div class="table-scroll">
        <table class="flow-table">
            <thead><tr><th>From</th><th>To</th><th>ë°ì´í„°</th><th>í˜¸ì¶œ ë°©ì‹</th></tr></thead>
            <tbody>
                <tr><td>Content Pool</td><td>Live [on_event]</td><td>ì†Œì¬ ê²€ìƒ‰ ê²°ê³¼</td><td><code>tool: fetch_content()</code></td></tr>
                <tr><td>Fan Memory</td><td>Live [on_event]</td><td>íŒ¬ í”„ë¡œí•„Â·íˆìŠ¤í† ë¦¬</td><td><code>tool: lookup_fan()</code></td></tr>
                <tr><td>Asset Store</td><td>Live [on_event]</td><td>ì¤€ë¹„ëœ ì—ì…‹</td><td><code>tool: fetch_asset()</code></td></tr>
                <tr><td>Persona</td><td>Live [on_event]</td><td>í˜ë¥´ì†Œë‚˜ ì²´í¬</td><td><code>tool: check_persona()</code></td></tr>
            </tbody>
        </table>
        </div>

        <br/>
        <span class="phase-label phase-post">ğŸ“Š ë°©ì†¡ í›„ (Review & Evaluate)</span>
        <div class="table-scroll">
        <table class="flow-table">
            <thead><tr><th>From</th><th>To</th><th>ë°ì´í„°</th><th>ì„¤ëª…</th></tr></thead>
            <tbody>
                <tr><td>Live [review]</td><td>Bond [evaluate]</td><td><code>FanSignals</code></td><td>íŒ¬ í™œë™ ê¸°ë¡, ì£¼ëª© ì´ë²¤íŠ¸, ì„¸ê·¸ë¨¼íŠ¸ ê´€ì°°</td></tr>
                <tr><td>Live [review]</td><td>Persona [evaluate]</td><td><code>ContentSignals</code></td><td>ì†Œì¬ ì„±ê³¼, ì½˜í…ì¸  ê°­, ìºë¦­í„° ë°˜ì‘ ë°ì´í„°</td></tr>
                <tr><td>Live [review]</td><td>Scout [evaluate]</td><td><code>ContentSignals</code></td><td>íŠ¸ë Œë“œ ì ì¤‘ë¥ , ì²­ì¤‘ ê´€ì‹¬ì‚¬ ì‹ í˜¸</td></tr>
                <tr><td>Live [review]</td><td>ë‹¤ìŒ prepare</td><td><code>StrategyFeedback</code></td><td>íš¨ê³¼ íŒ¨í„´, íŒŒë¼ë¯¸í„° ë³´ì • ê¶Œê³ </td></tr>
                <tr><td>Persona [evaluate]</td><td>Content Pool</td><td>ìŠ¤ì½”ì–´ ì—…ë°ì´íŠ¸</td><td>ì†Œì¬ë³„ ìºë¦­í„° ì í•©ë„ ì¬í‰ê°€</td></tr>
                <tr><td>Persona [evaluate]</td><td>Persona</td><td>ê°€ì´ë“œë¼ì¸ ë³´ì •</td><td>í˜ë¥´ì†Œë‚˜ ë¯¸ì„¸ ì¡°ì •</td></tr>
                <tr><td>Bond [evaluate]</td><td>Fan Memory</td><td>íŒ¬ ë°ì´í„° ì—…ë°ì´íŠ¸</td><td>ì„¸ê·¸ë¨¼íŠ¸ë³„ ë°˜ì‘ í•´ì„, DM íì‰</td></tr>
                <tr><td>Scout [evaluate]</td><td>Scout</td><td>íƒìƒ‰ ì „ëµ ë³´ì •</td><td>ìš°ì„ ìˆœìœ„ ì¬ì¡°ì •, í¬ë¡¤ë§ ë°©í–¥ ë³€ê²½</td></tr>
            </tbody>
        </table>
        </div>
    </div>

</div>

<script>
    mermaid.initialize({
        startOnLoad: true,
        theme: 'base',
        themeVariables: {
            primaryColor: '#e3f2fd',
            primaryTextColor: '#2d3d4f',
            primaryBorderColor: '#64b5f6',
            lineColor: '#90a4ae',
            secondaryColor: '#f3e5f5',
            tertiaryColor: '#e8f5e9',
            background: '#ffffff',
            mainBkg: '#e3f2fd',
            nodeBorder: '#64b5f6',
            clusterBkg: '#fafafa',
            clusterBorder: '#e0e0e0',
            titleColor: '#2d3d4f',
            edgeLabelBackground: '#ffffff',
            fontSize: '13px'
        },
        flowchart: {
            useMaxWidth: false,
            htmlLabels: true,
            curve: 'basis',
            padding: 20,
            nodeSpacing: 50,
            rankSpacing: 60
        }
    });

    /* ===== ì¸ë¼ì¸ ì¤Œ ===== */
    var zoomState = { main: { scale: 1 }, dual: { scale: 1 } };

    function zoomDiagram(id, delta, reset) {
        if (reset) zoomState[id].scale = 1;
        else zoomState[id].scale = Math.max(0.3, Math.min(3, zoomState[id].scale + delta));
        document.getElementById(id + '-inner').style.transform = 'scale(' + zoomState[id].scale + ')';
        document.getElementById(id + '-zoom-label').textContent = Math.round(zoomState[id].scale * 100) + '%';
    }

    /* ===== ì „ì²´í™”ë©´ ===== */
    var fsScale = 1;

    function openFullscreen(diagramId, title) {
        var overlay = document.getElementById('fullscreenOverlay');
        var fsInner = document.getElementById('fsInner');
        var fsTitle = document.getElementById('fsTitle');

        var source = document.getElementById('mermaid-' + diagramId);
        var svg = null;
        if (source) {
            if (source.tagName === 'svg' || source.tagName === 'SVG') { svg = source; }
            else { svg = source.querySelector('svg'); if (!svg && source.nextElementSibling && (source.nextElementSibling.tagName === 'SVG' || source.nextElementSibling.tagName === 'svg')) { svg = source.nextElementSibling; } }
        }
        if (!svg) { var inner = document.getElementById(diagramId + '-inner'); svg = inner.querySelector('svg'); }

        if (svg) { fsInner.innerHTML = svg.outerHTML; }

        fsTitle.textContent = title;
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden';
        requestAnimationFrame(function() { fitToScreen(); });
    }

    function fitToScreen() {
        var viewport = document.getElementById('fsViewport');
        var inner = document.getElementById('fsInner');
        var svg = inner.querySelector('svg');
        if (svg) {
            inner.style.transform = 'scale(1)';
            var vw = viewport.clientWidth - 80;
            var vh = viewport.clientHeight - 80;
            requestAnimationFrame(function() {
                var rect = svg.getBoundingClientRect();
                if (rect.width > 0 && rect.height > 0) { fsScale = Math.min(vw / rect.width, vh / rect.height, 2.5); }
                else { fsScale = 1; }
                inner.style.transform = 'scale(' + fsScale + ')';
                document.getElementById('fsZoomLabel').textContent = Math.round(fsScale * 100) + '%';
            });
        }
    }

    function exitFullscreen() {
        document.getElementById('fullscreenOverlay').classList.remove('active');
        document.body.style.overflow = '';
        fsScale = 1;
        document.getElementById('fsInner').innerHTML = '';
    }

    function fsZoom(delta, reset) {
        if (reset) { fitToScreen(); return; }
        fsScale = Math.max(0.15, Math.min(5, fsScale + delta));
        document.getElementById('fsInner').style.transform = 'scale(' + fsScale + ')';
        document.getElementById('fsZoomLabel').textContent = Math.round(fsScale * 100) + '%';
    }

    // ë‚˜ê°€ê¸° ë²„íŠ¼ â€” touchend + click
    (function() {
        var btn = document.getElementById('exitBtn');
        var handled = false;
        btn.addEventListener('touchend', function(e) { e.preventDefault(); e.stopPropagation(); handled = true; exitFullscreen(); }, { passive: false });
        btn.addEventListener('click', function(e) { if (handled) { handled = false; return; } exitFullscreen(); });
    })();

    document.addEventListener('keydown', function(e) { if (e.key === 'Escape') exitFullscreen(); });

    // ì „ì²´í™”ë©´ ë·°í¬íŠ¸ â€” ë§ˆìš°ìŠ¤ íœ  ì¤Œ
    document.getElementById('fsViewport').addEventListener('wheel', function(e) { e.preventDefault(); fsZoom(e.deltaY > 0 ? -0.08 : 0.08); }, { passive: false });

    // ì „ì²´í™”ë©´ ë·°í¬íŠ¸ â€” ë§ˆìš°ìŠ¤ ë“œë˜ê·¸
    (function() {
        var vp = document.getElementById('fsViewport');
        var d = false, sx, sy, sl, st;
        vp.addEventListener('mousedown', function(e) { d = true; sx = e.pageX; sy = e.pageY; sl = vp.scrollLeft; st = vp.scrollTop; });
        vp.addEventListener('mouseup', function() { d = false; });
        vp.addEventListener('mouseleave', function() { d = false; });
        vp.addEventListener('mousemove', function(e) { if (!d) return; e.preventDefault(); vp.scrollLeft = sl - (e.pageX - sx); vp.scrollTop = st - (e.pageY - sy); });
    })();

    // ì „ì²´í™”ë©´ ë·°í¬íŠ¸ â€” í„°ì¹˜ ë“œë˜ê·¸
    (function() {
        var vp = document.getElementById('fsViewport');
        var sx, sy, sl, st;
        vp.addEventListener('touchstart', function(e) { if (e.touches.length === 1) { sx = e.touches[0].pageX; sy = e.touches[0].pageY; sl = vp.scrollLeft; st = vp.scrollTop; } }, { passive: true });
        vp.addEventListener('touchmove', function(e) { if (e.touches.length === 1) { vp.scrollLeft = sl - (e.touches[0].pageX - sx); vp.scrollTop = st - (e.touches[0].pageY - sy); } }, { passive: true });
    })();

    // ì „ì²´í™”ë©´ â€” í•€ì¹˜ ì¤Œ
    (function() {
        var vp = document.getElementById('fsViewport');
        var ld = 0;
        vp.addEventListener('touchstart', function(e) { if (e.touches.length === 2) { var dx = e.touches[0].pageX - e.touches[1].pageX, dy = e.touches[0].pageY - e.touches[1].pageY; ld = Math.sqrt(dx*dx+dy*dy); } }, { passive: true });
        vp.addEventListener('touchmove', function(e) { if (e.touches.length === 2) { e.preventDefault(); var dx = e.touches[0].pageX - e.touches[1].pageX, dy = e.touches[0].pageY - e.touches[1].pageY, dist = Math.sqrt(dx*dx+dy*dy); if (ld > 0) fsZoom((dist - ld) * 0.005); ld = dist; } }, { passive: false });
        vp.addEventListener('touchend', function() { ld = 0; }, { passive: true });
    })();

    // ì¸ë¼ì¸ ë·°í¬íŠ¸ â€” ë“œë˜ê·¸ (mouse + touch)
    document.querySelectorAll('.mermaid-viewport:not(#fsViewport)').forEach(function(vp) {
        var d = false, sx, sy, sl, st;
        vp.addEventListener('mousedown', function(e) { d = true; sx = e.pageX; sy = e.pageY; sl = vp.scrollLeft; st = vp.scrollTop; });
        vp.addEventListener('mouseup', function() { d = false; });
        vp.addEventListener('mouseleave', function() { d = false; });
        vp.addEventListener('mousemove', function(e) { if (!d) return; e.preventDefault(); vp.scrollLeft = sl - (e.pageX - sx); vp.scrollTop = st - (e.pageY - sy); });
        vp.addEventListener('touchstart', function(e) { if (e.touches.length === 1) { sx = e.touches[0].pageX; sy = e.touches[0].pageY; sl = vp.scrollLeft; st = vp.scrollTop; } }, { passive: true });
        vp.addEventListener('touchmove', function(e) { if (e.touches.length === 1) { vp.scrollLeft = sl - (e.touches[0].pageX - sx); vp.scrollTop = st - (e.touches[0].pageY - sy); } }, { passive: true });
    });
</script>

</body>
</html>
